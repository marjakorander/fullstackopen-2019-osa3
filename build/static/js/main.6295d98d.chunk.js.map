{"version":3,"sources":["Components/Persons.js","Components/AddPerson.js","Components/Filter.js","Services/persons.js","Components/Notification.js","App.js","index.js"],"names":["Persons","_ref","handleRemoval","persons","react_default","a","createElement","map","person","key","name","number","onClick","id","AddPerson","newName","newNumber","handleNameChange","handleNumberChange","addNameAndNumber","onSubmit","value","onChange","type","Filter","handleFilterChange","newFilter","baseUrl","Services_persons","axios","get","then","response","data","nameObject","post","delete","concat","put","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","useEffect","personService","console","log","length","personsToShow","filter","p","toLowerCase","includes","Components_Notification","Components_AddPerson","event","target","preventDefault","existingPerson","find","objectSpread","updatedPerson","setTimeout","catch","error","alert","Components_Filter","Components_Persons","window","confirm","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6295d98d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Persons = ({ handleRemoval, persons }) => {\r\n  const rows = () =>\r\n    persons.map(person => (\r\n      <div key={person.name}>\r\n        {person.name} {person.number}\r\n        <button onClick={() => handleRemoval(person.id, person.name)}>Poista</button>\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numerot</h2>\r\n      {rows()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;","import React from \"react\";\r\n\r\nconst AddPerson = ({\r\n  newName,\r\n  newNumber,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  addNameAndNumber\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h3>Lisää uusi nimi ja numero</h3>\r\n      <form onSubmit={addNameAndNumber}>\r\n        <div>\r\n          nimi: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPerson;","import React from \"react\";\r\n\r\nconst Filter = ({ handleFilterChange, newFilter }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        Rajaa näytettäviä{\" \"}\r\n        <input value={newFilter} onChange={handleFilterChange} />\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const promise = axios.get(baseUrl)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst create = (nameObject) => {\r\n    const promise = axios.post(baseUrl, nameObject)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const promise = axios.delete(`${baseUrl}/${id}`)\r\n\r\n    return promise.then(response => response.data)\r\n}  \r\n\r\nconst update = (nameObject) => {\r\n    const promise = axios.put(`${baseUrl}/${nameObject.id}`, nameObject)\r\n    \r\n    return promise.then(response => response.data)\r\n}  \r\n\r\nexport default { getAll, create, remove, update }","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"notification\">\r\n        {message}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./Components/Persons\";\nimport AddPerson from \"./Components/AddPerson\";\nimport Filter from \"./Components/Filter\";\nimport personService from \"./Services/persons\";\nimport Notification from \"./Components/Notification\";\nimport \"./index.css\";\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll()\n      .then(response => {\n      setPersons(response);\n    })\n  }, [])\n\n  console.log('Persons', persons.length)\n\n  const personsToShow = newFilter.length === 0\n      ? persons\n      : persons.filter(p => p.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  const addNameAndNumber = event => {\n    event.preventDefault();\n\n    const existingPerson = persons.find(p => p.name === newName)\n    if (existingPerson) {\n      personService\n        .update({\n          ...existingPerson,\n          number: newNumber\n        })\n        .then(updatedPerson => {\n          setPersons(persons.map(person => person.name === newName ? updatedPerson : person));\n          setNotificationMessage(`${newName} on jo luettelossa, puhelinnumero muutettu`);\n          console.log(\"Updated person\");\n          setTimeout(() => {\n            setNotificationMessage(null);\n          }, 5000);\n        })\n        .catch(error => {\n          alert(`henkilö ${newName} on jo poistettu palvelimelta`);\n          setPersons(persons.filter(p => p.name !== newName));\n        });\n      setNewName(\"\");\n      setNewNumber(\"\");\n    } else {\n      personService\n        .create({\n          name: newName,\n          number: newNumber\n        })\n        .then(response => {\n        setPersons(persons.concat(response));\n      });\n      setNotificationMessage(`${newName} lisätty luetteloon`);\n      console.log(\"Added person:\", `${newName}, ${newNumber}`);\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 5000);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  const handleRemoval = (id, name) => {\n    if (window.confirm(`Poistetaanko ${name}?`)) {\n      personService\n        .remove(id)\n        .then(setPersons(persons.filter(p => p.id !== id)));\n      setNotificationMessage(`${name} poistettu luettelosta`);\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n\n      <Notification message={notificationMessage} />\n      <AddPerson\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addNameAndNumber={addNameAndNumber}\n      />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <Persons persons={personsToShow} handleRemoval={handleRemoval} />\n    </div>\n  );\n};\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}