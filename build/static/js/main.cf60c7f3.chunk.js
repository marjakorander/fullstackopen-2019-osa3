(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(11),o=t.n(l),r=t(12),c=t(2),i=function(e){var n=e.personsToShow,t=e.handleRemoval;return u.a.createElement("div",null,u.a.createElement("h2",null,"Numerot"),n.map(function(e){return u.a.createElement("p",{key:e.id},e.name," ",e.number,u.a.createElement("button",{onClick:function(){return t(e.id,e.name)}},"Poista"))}))},m=function(e){var n=e.newName,t=e.newNumber,a=e.handleNameChange,l=e.handleNumberChange,o=e.addNameAndNumber;return u.a.createElement("div",null,u.a.createElement("h3",null,"Lis\xe4\xe4 uusi nimi ja numero"),u.a.createElement("form",{onSubmit:o},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:t,onChange:l})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},s=function(e){var n=e.handleFilterChange,t=e.newFilter;return u.a.createElement("div",null,u.a.createElement("p",null,"Rajaa n\xe4ytett\xe4vi\xe4"," ",u.a.createElement("input",{value:t,onChange:n})))},f=t(3),d=t.n(f),h="/api/persons",p=function(){return d.a.get(h)},b=function(e){return d.a.post(h,e)},v=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},E=function(e){return d.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},g=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"notification"},n)},j=(t(38),function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)(""),f=Object(c.a)(o,2),d=f[0],h=f[1],j=Object(a.useState)(""),w=Object(c.a)(j,2),N=w[0],O=w[1],C=Object(a.useState)(""),S=Object(c.a)(C,2),k=S[0],y=S[1],T=Object(a.useState)(""),F=Object(c.a)(T,1)[0],A=Object(a.useState)(null),P=Object(c.a)(A,2),R=P[0],U=P[1];Object(a.useEffect)(function(){console.log("effect"),p().then(function(e){l(e.data)})},[]),console.log("render",t.length,"persons");var J=F?t:t.filter(function(e){return e.name.toUpperCase().includes(k.toUpperCase())});return u.a.createElement("div",null,u.a.createElement("h1",null,"Puhelinluettelo"),u.a.createElement(g,{message:R}),u.a.createElement(m,{newName:d,newNumber:N,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){O(e.target.value)},addNameAndNumber:function(e){e.preventDefault();var n={name:d,number:N};if(t.some(function(e){return e.name===d})){var a=t.find(function(e){return e.name===d}),u=Object(r.a)({},a,{number:N});E(u).then(function(e){l(t.map(function(n){return n.name!==d?n:e})),U("".concat(d," on jo luettelossa, puhelinnumero muutettu")),console.log("Updated person"),setTimeout(function(){U(null)},5e3)}).catch(function(e){alert("henkil\xf6 ".concat(u.name," on jo poistettu palvelimelta")),l(t.filter(function(e){return e.name!==u.name}))}),h(""),O("")}else b(n).then(function(e){l(t.concat(e.data))}),U("".concat(d," lis\xe4tty luetteloon")),console.log("Added person"),setTimeout(function(){U(null)},5e3),h(""),O("")}}),u.a.createElement(s,{newFilter:k,handleFilterChange:function(e){y(e.target.value)}}),u.a.createElement(i,{personsToShow:J,handleRemoval:function(e,n){window.confirm("Poistetaanko ".concat(n,"?"))&&(v(e).then(l(t.filter(function(n){return n.id!==e}))),U("".concat(n," poistettu luettelosta")),setTimeout(function(){U(null)},5e3))}}))});o.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.cf60c7f3.chunk.js.map