(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(11),r=t.n(l),c=t(12),o=t(2),i=function(e){var n=e.handleRemoval,t=e.persons;return u.a.createElement("div",null,u.a.createElement("h2",null,"Numerot"),t.map(function(e){return u.a.createElement("div",{key:e.name},e.name," ",e.number,u.a.createElement("button",{onClick:function(){return n(e.id,e.name)}},"Poista"))}))},m=function(e){var n=e.newName,t=e.newNumber,a=e.handleNameChange,l=e.handleNumberChange,r=e.addNameAndNumber;return u.a.createElement("div",null,u.a.createElement("h3",null,"Lis\xe4\xe4 uusi nimi ja numero"),u.a.createElement("form",{onSubmit:r},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:t,onChange:l})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},s=function(e){var n=e.handleFilterChange,t=e.newFilter;return u.a.createElement("div",null,u.a.createElement("p",null,"Rajaa n\xe4ytett\xe4vi\xe4"," ",u.a.createElement("input",{value:t,onChange:n})))},f=t(3),d=t.n(f),h="/api/persons",v=function(){return d.a.get(h).then(function(e){return e.data})},b=function(e){return d.a.post(h,e).then(function(e){return e.data})},p=function(e){return d.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},E=function(e){return d.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},g=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"notification"},n)},j=(t(38),function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(""),f=Object(o.a)(r,2),d=f[0],h=f[1],j=Object(a.useState)(""),w=Object(o.a)(j,2),N=w[0],C=w[1],O=Object(a.useState)(""),k=Object(o.a)(O,2),S=k[0],y=k[1],F=Object(a.useState)(null),P=Object(o.a)(F,2),A=P[0],L=P[1];Object(a.useEffect)(function(){v().then(function(e){l(e)})},[]),console.log("Persons",t.length);var R=0===S.length?t:t.filter(function(e){return e.name.toLowerCase().includes(S.toLowerCase())});return u.a.createElement("div",null,u.a.createElement("h1",null,"Puhelinluettelo"),u.a.createElement(g,{message:A}),u.a.createElement(m,{newName:d,newNumber:N,handleNameChange:function(e){h(e.target.value)},handleNumberChange:function(e){C(e.target.value)},addNameAndNumber:function(e){e.preventDefault();var n=t.find(function(e){return e.name===d});n?(E(Object(c.a)({},n,{number:N})).then(function(e){l(t.map(function(n){return n.name===d?e:n})),L("".concat(d," on jo luettelossa, puhelinnumero muutettu")),console.log("Updated person"),setTimeout(function(){L(null)},5e3)}).catch(function(e){alert("henkil\xf6 ".concat(d," on jo poistettu palvelimelta")),l(t.filter(function(e){return e.name!==d}))}),h(""),C("")):(b({name:d,number:N}).then(function(e){l(t.concat(e))}),L("".concat(d," lis\xe4tty luetteloon")),console.log("Added person:","".concat(d,", ").concat(N)),setTimeout(function(){L(null)},5e3),h(""),C(""))}}),u.a.createElement(s,{newFilter:S,handleFilterChange:function(e){y(e.target.value)}}),u.a.createElement(i,{persons:R,handleRemoval:function(e,n){window.confirm("Poistetaanko ".concat(n,"?"))&&(p(e).then(l(t.filter(function(n){return n.id!==e}))),L("".concat(n," poistettu luettelosta")),setTimeout(function(){L(null)},5e3))}}))});r.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.6295d98d.chunk.js.map